<div class="page-header">    
  <%= render :partial => 'elements/header_with_print', :locals => {header: _('Users') } %>  
  <% if can? :create, User %>
    <%= link_to new_user_path, :class => 'btn btn-primary' do %>
      <span class="glyphicon glyphicon-plus"></span>
      New user
    <% end %>
  <% end %>
</div>

<%= render :partial => 'shared/index_search', :locals => {path: users_path } %>
<div class="row">
  <table class="table table-striped table-bordered table-condensed index-table">
    <thead>
      <tr>
        <th class="id-col"><%= sortable "id", "Id" %></th>
        <th><%= sortable 'name', _('name') %></th>
        <th><%= sortable 'email', _('Email') %></th>
        <th></th>        
      </tr>
    </thead>

    <tbody>
      <%= content_tag_for(:tr, @users) do |user| %>
          <td><%= link_to user.id, user %></td>
          <td><%= user.name %></td>
          <td><%= user.email %></td>                        
          <td>
            <% if can? :update, user %>
              <%= link_to 'Edit', edit_user_path(user), { :class=>"btn btn-primary" } %>
            <% end %>
            <% if @users.count > 1 && can?(:destroy, user) %>
              <%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' }, :class=>"btn btn-danger"  %>
            <% end %>
          </td>
      <% end %>
    </tbody>
  </table>
</div>

<%= paginate @users, params: get_index_params %>